(self.webpackChunkfun_doc=self.webpackChunkfun_doc||[]).push([[6636],{1801:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>e});const e={key:"v-f6284222",path:"/micro_frontend/%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%8F%B0Q&A.html",title:"å¾®å‰ç«¯æ•°æ®ä¸­å°Q&A",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"å¦‚ä½•åˆ›å»ºå­é¡¹ç›®",slug:"å¦‚ä½•åˆ›å»ºå­é¡¹ç›®",children:[]},{level:2,title:"å¦‚ä½•è¿è¡Œ(dev)å¾®å‰ç«¯é¡¹ç›®",slug:"å¦‚ä½•è¿è¡Œ-dev-å¾®å‰ç«¯é¡¹ç›®",children:[]},{level:2,title:"å¦‚ä½•å‘å¸ƒ(æ›´æ–°)é¡¹ç›®åˆ°å®¹å™¨",slug:"å¦‚ä½•å‘å¸ƒ-æ›´æ–°-é¡¹ç›®åˆ°å®¹å™¨",children:[]},{level:2,title:"å¦‚ä½•æ³¨å†ŒAntDesign Vueç»„ä»¶",slug:"å¦‚ä½•æ³¨å†Œantdesign-vueç»„ä»¶",children:[]},{level:2,title:"å¦‚ä½•æ­£ç¡®å¼•å…¥å›¾ç‰‡èµ„æº",slug:"å¦‚ä½•æ­£ç¡®å¼•å…¥å›¾ç‰‡èµ„æº",children:[]},{level:2,title:"å¦‚ä½•ä½¿ç”¨é¢œè‰²å˜é‡",slug:"å¦‚ä½•ä½¿ç”¨é¢œè‰²å˜é‡",children:[]}],filePathRelative:"micro_frontend/å¾®å‰ç«¯æ•°æ®ä¸­å°Q&A.md",git:{updatedTime:1624500867e3,contributors:[{name:"caifang",email:"cooldish1245@163.com",commits:1}]}}},1981:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Q});var e=a(6252);const l=(0,e.Wm)("h1",{id:"å¾®å‰ç«¯æ•°æ®ä¸­å°q-a"},[(0,e.Wm)("a",{class:"header-anchor",href:"#å¾®å‰ç«¯æ•°æ®ä¸­å°q-a"},"#"),(0,e.Uk)(" å¾®å‰ç«¯æ•°æ®ä¸­å°Q&A")],-1),c=(0,e.Wm)("h2",{id:"å¦‚ä½•åˆ›å»ºå­é¡¹ç›®"},[(0,e.Wm)("a",{class:"header-anchor",href:"#å¦‚ä½•åˆ›å»ºå­é¡¹ç›®"},"#"),(0,e.Uk)(" å¦‚ä½•åˆ›å»ºå­é¡¹ç›®")],-1),t=(0,e.Uk)("â€‹ å‚ç…§ "),o={href:"http://git.jshcbd.com.cn/microfront-hc-data-platform/main/blob/master/docs/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA(%E8%BF%81%E7%A7%BB)%E5%AD%90%E5%BA%94%E7%94%A8.md",target:"_blank",rel:"noopener noreferrer"},p=(0,e.Uk)("é‡æ„èœå•é¡¹ä¸ºå­é¡¹ç›®"),r=(0,e.uE)('<h2 id="å¦‚ä½•è¿è¡Œ-dev-å¾®å‰ç«¯é¡¹ç›®"><a class="header-anchor" href="#å¦‚ä½•è¿è¡Œ-dev-å¾®å‰ç«¯é¡¹ç›®">#</a> å¦‚ä½•è¿è¡Œ(dev)å¾®å‰ç«¯é¡¹ç›®</h2><p>å¾®å‰ç«¯é¡¹ç›®æŠŠåŸæ¥çš„å•é¡µé¢åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå­é¡¹ç›®ï¼Œå› æ­¤è¿è¡Œå¾®å‰ç«¯é¡¹ç›®éœ€è¦å¯¹æ¯ä¸ªå­é¡¹ç›®åšï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># å®‰è£…ä¾èµ–åŒ…</span>\n<span class="token function">npm</span> <span class="token function">install</span>\n<span class="token comment"># å¯åŠ¨é¡¹ç›®</span>\n<span class="token function">npm</span> run serve\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>åœ¨<code>main/package.json</code>ä¸­å†™äº†è„šæœ¬åŒæ—¶å¯¹æ‰€æœ‰å­é¡¹ç›®è¿›è¡Œä¾èµ–å®‰è£…å’Œå¯åŠ¨</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># è¿›å…¥ä¸»é¡¹ç›®</span>\n<span class="token builtin class-name">cd</span> /main\n<span class="token comment"># å®‰è£…æ‰€æœ‰é¡¹ç›®ä¾èµ–</span>\n<span class="token function">npm</span> install-all \n<span class="token comment"># å¯åŠ¨æ‰€æœ‰é¡¹ç›®,ä¸‹é¢ä¸¤æ¡æŒ‡ä»¤å‡å¯</span>\n<span class="token function">npm</span> run serve-all\n<span class="token function">npm</span> run start-all\n<span class="token comment">#æ‰“æ‰€æœ‰é¡¹ç›®ç”Ÿäº§åŒ…</span>\n<span class="token function">npm</span> run build-all\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><strong>ä¸€ä¸‹å­è¿è¡Œæ‰€æœ‰é¡¹ç›®å¦‚æœé˜»å¡ï¼Œå¯ä»¥è€ƒè™‘åªè¿è¡Œå¼€å‘çš„é¡¹ç›®</strong></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># è¿›å…¥ä¸»é¡¹ç›®</span>\n<span class="token builtin class-name">cd</span> /main\n<span class="token function">npm</span> run serve\n\n<span class="token comment">#å¯åŠ¨å¼€å‘çš„å­é¡¹ç›®</span>\n<span class="token builtin class-name">cd</span> /sub-dashboard\n<span class="token function">npm</span> run serve\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>è¿™æ ·ï¼Œå°±å¯ä»¥ä»…è®¿é—®ä¸»é¡¹ç›® + ç‰¹å®šå­é¡¹ç›®</p><h2 id="å¦‚ä½•å‘å¸ƒ-æ›´æ–°-é¡¹ç›®åˆ°å®¹å™¨"><a class="header-anchor" href="#å¦‚ä½•å‘å¸ƒ-æ›´æ–°-é¡¹ç›®åˆ°å®¹å™¨">#</a> å¦‚ä½•å‘å¸ƒ(æ›´æ–°)é¡¹ç›®åˆ°å®¹å™¨</h2><ul><li><p>ç”Ÿæˆçº¿ä¸ŠåŒ…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /sub-xxx\n<span class="token function">npm</span> run build\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>æ‹·è´<code>dist</code>æ–‡ä»¶å¤¹åˆ°<code>123èŠ‚ç‚¹</code> ç›®å‰å¾®å‰ç«¯é¡¹ç›®çš„å·¥ä½œç›®å½•åœ¨ï¼š<code>/home/caif/microfront-hc-data-platform/</code>ä¸‹</p><p>æ‹·è´distç›®å½•åˆ°æŒ‡å®šå¾®å‰ç«¯é¡¹ç›®åä¸‹ã€‚</p></li><li><p>ç”Ÿæˆé•œåƒå¹¶å¯åŠ¨svc</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 172.16.2.120 /home/data/caif/microfront-hc-data-platform</span>\n<span class="token builtin class-name">cd</span> sub-dashboard/\ndocker build -t sub-dashboard:1.0 <span class="token builtin class-name">.</span>\n<span class="token comment"># æ‹·è´é•œåƒåˆ°123,124</span>\n\n<span class="token comment"># docker save -o ../images/sub-dashboard.tar sub-dashboard:1.0 #æœ¬åœ°ä¿å­˜é•œåƒ</span>\n<span class="token comment"># scp main.tar 2-124:/home/caif/ #æ‹·è´é•œåƒåˆ°124ä¸»æœº uqJ!]31e</span>\n<span class="token comment">#å·¥ä½œèŠ‚ç‚¹124 åŠ è½½é•œåƒ</span>\n<span class="token comment">#docker load --input main.tar # 124ä¸ŠåŠ è½½é•œåƒ </span>\n\n/home/data/caif/docker-image-loader-microfront ä¸‹ä¿®æ”¹è„šæœ¬å¤„ç†ã€‚å®Œæˆé•œåƒcopyå’ŒåŠ è½½æ“ä½œ\n\n<span class="token comment"># ä¸»èŠ‚ç‚¹120 å¯åŠ¨æœåŠ¡</span>\n<span class="token builtin class-name">cd</span> /home/data/caif/microfront-hc-data-platform-yaml\n<span class="token comment"># ä¿®æ”¹ç‰ˆæœ¬</span>\n<span class="token function">vim</span> sub-dashboard.yaml \n<span class="token comment"># å¯åŠ¨svc</span>\n<span class="token comment">#kubectl apply -f sub-dashboard.yaml</span>\n<span class="token comment"># æŸ¥çœ‹è¿è¡Œä¿¡æ¯</span>\n<span class="token comment">#kubectl get svc -n platform-ns</span>\n<span class="token comment"># åˆ é™¤æœåŠ¡</span>\nkubectl delete -f sub-data-audit.yaml -n hcdsj\n<span class="token comment"># å¯åŠ¨æœåŠ¡</span>\nkubectl create -f sub-data-audit.yaml -n hcdsj\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li><li><p>è®¿é—®ä¸»åº”ç”¨<code>http://172.16.2.120:30250/</code>éªŒè¯</p></li></ul><p>kubectl delete -f main.yaml -n platform-ns</p><p>kubectl create -f main.yaml -n hcdsj</p><h2 id="å¦‚ä½•æ³¨å†Œantdesign-vueç»„ä»¶"><a class="header-anchor" href="#å¦‚ä½•æ³¨å†Œantdesign-vueç»„ä»¶">#</a> å¦‚ä½•æ³¨å†ŒAntDesign Vueç»„ä»¶</h2><p><code>core/lazy_use.js</code>ä¸­æŒ‰éœ€æ³¨å†Œä½¿ç”¨åˆ°çš„ç»„ä»¶ã€‚åœ¨å…¥å£æ–‡ä»¶<code>main.js</code>ä¸­å¼•å…¥è¯¥æ–‡ä»¶å³å¯ã€‚</p><h2 id="å¦‚ä½•æ­£ç¡®å¼•å…¥å›¾ç‰‡èµ„æº"><a class="header-anchor" href="#å¦‚ä½•æ­£ç¡®å¼•å…¥å›¾ç‰‡èµ„æº">#</a> å¦‚ä½•æ­£ç¡®å¼•å…¥å›¾ç‰‡èµ„æº</h2><ul><li><code>main.js</code>ä¸­åŠ å…¥ï¼š</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>__webpack_public_path__ <span class="token operator">=</span> window<span class="token punctuation">.</span>__INJECTED_PUBLIC_PATH_BY_QIANKUN__<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ç›®çš„æ˜¯åŠ¨æ€è®¾ç½®<code>publicPath</code>ä½¿å¾—ï¼Œèƒ½æ­£ç¡®åŠ è½½å­åº”ç”¨èµ„æºã€‚</p><p>è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­åº”ç”¨ä¸èƒ½é€šè¿‡<code>import</code>æ–¹å¼å¼•å…¥å›¾ç‰‡ï¼Œé‚£æ ·ä¹Ÿä¼šå»ä¸»åº”ç”¨æ‰¾èµ„æºï¼Œå› æ­¤ä¸å»ºè®®è¿™æ ·ä½¿ç”¨äº†ï¼šğŸš«</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> notPassUrl <span class="token keyword">from</span> <span class="token string">&quot;@/assets/dataQuality/notPass.png&quot;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>importè¯­æ³•ä¼šå¯¼è‡´ä¸»åº”ç”¨æ— æ³•åŠ è½½åˆ°å­åº”ç”¨å›¾ç‰‡ï¼Œï¼Œæœ‰ä¸€ä¸ªä¹Ÿä¸è¡Œ</p></blockquote>',21),m=(0,e.Uk)("å®˜æ–¹è¯´æ˜ä¸­æŒ‡å‡ºå¼•å…¥é™æ€èµ„æºæ–¹å¼ï¼š"),u={href:"https://qiankun.umijs.org/zh/faq",target:"_blank",rel:"noopener noreferrer"},i=(0,e.Uk)("ä½¿ç”¨ webpack é™æ€ publicPath é…ç½®"),d=(0,e.uE)('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>publicPath<span class="token operator">:</span> dev <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">//localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>æ•ˆæœï¼šèƒ½è§£å†³ä¸»åº”ç”¨ä¸­æ­£ç¡®åŠ è½½å­åº”ç”¨èµ„æºï¼›å‰¯ä½œç”¨ï¼šå­åº”ç”¨åˆ·æ–°ä¼šæŠ¥faviconæ— æ³•åŠ è½½é”™è¯¯å¯¼è‡´é¡µé¢æ— æ³•åŠ è½½ğŸš«</p></blockquote><p>ç»“è®ºï¼š</p><ul><li>é…ç½®<code>__webpack_public_path__ = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;</code></li><li>å­åº”ç”¨ä¸­ä¸è¦ä½¿ç”¨<code>import</code>æ–¹å¼å¼•å…¥å›¾ç‰‡</li></ul><h2 id="å¦‚ä½•ä½¿ç”¨é¢œè‰²å˜é‡"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨é¢œè‰²å˜é‡">#</a> å¦‚ä½•ä½¿ç”¨é¢œè‰²å˜é‡</h2>',5),b=(0,e.Uk)("æœ¬é¡¹ç›®ä» "),k={href:"https://github.com/iczer/vue-antd-admin",target:"_blank",rel:"noopener noreferrer"},h=(0,e.Uk)("https://github.com/iczer/vue-antd-admin"),g=(0,e.Uk)("å¼€æºé¡¹ç›®æŠ½å–å…¶ä¸»é¢˜é…ç½®æ–¹æ¡ˆã€‚"),W=(0,e.Wm)("p",null,"é€šè¿‡å®ƒï¼Œæˆ‘ä»¬å¯ä»¥ åšåˆ°ï¼š",-1),v=(0,e.Wm)("thead",null,[(0,e.Wm)("tr",null,[(0,e.Wm)("th",null,"é¢œè‰²æŒ‡æ ‡"),(0,e.Wm)("th",null,"æ˜¯å¦å¯è‡ªå®šä¹‰"),(0,e.Wm)("th",null,"lesså˜é‡"),(0,e.Wm)("th",null,"è¯´æ˜")])],-1),f=(0,e.Wm)("tr",null,[(0,e.Wm)("td",null,[(0,e.Wm)("strong",null,"ä¸»é¢˜è‰²")]),(0,e.Wm)("td",null,"æ˜¯"),(0,e.Wm)("td",null,[(0,e.Wm)("code",null,"@theme-color"),(0,e.Uk)("æš‚æ—¶ä¸å¯ç”¨ï¼Œå¯ç”¨"),(0,e.Wm)("code",null,"@primary-color"),(0,e.Uk)("å¯¹åº”ä¸»é¢˜è‰²")]),(0,e.Wm)("td",null,"src/config/config.jsæ–‡ä»¶å¯é…ç½®ä¸»é¢˜è‰²")],-1),U=(0,e.Wm)("tr",null,[(0,e.Wm)("td",null,[(0,e.Wm)("strong",null,"åŠŸèƒ½è‰²")]),(0,e.Wm)("td",null,"æ˜¯"),(0,e.Wm)("td",null,[(0,e.Wm)("code",null,"@success-color"),(0,e.Uk)("ï¼Œ"),(0,e.Wm)("code",null,"@warning-color"),(0,e.Uk)("ï¼Œ"),(0,e.Wm)("code",null,"@error-color")]),(0,e.Wm)("td",null,[(0,e.Uk)("src/config/config.jsä¸­é…ç½®ï¼Œæ”¯æŒ"),(0,e.Wm)("code",null,"hex"),(0,e.Uk)("æ–¹å¼ï¼Œ"),(0,e.Wm)("strong",null,"ä¸æ”¯æŒrgb")])],-1),_=(0,e.Wm)("tr",null,[(0,e.Wm)("td",null,[(0,e.Wm)("strong",null,"æ–‡æœ¬è‰²")]),(0,e.Wm)("td",null,"å¦"),(0,e.Wm)("td",null,[(0,e.Wm)("code",null,"@title-color"),(0,e.Uk)("ï¼Œ"),(0,e.Wm)("code",null,"@text-color"),(0,e.Uk)("ï¼Œ"),(0,e.Wm)("code",null,"@text-color-second")]),(0,e.Wm)("td",null,"æ–‡æœ¬è‰²éšä¸»é¢˜è‰²å˜åŒ–ã€‚")],-1),E=(0,e.Wm)("td",null,[(0,e.Wm)("strong",null,"èƒŒæ™¯è‰²")],-1),B=(0,e.Wm)("td",null,"å¦",-1),A=(0,e.Wm)("td",null,[(0,e.Wm)("code",null,"@layout-bg-color"),(0,e.Uk)("ï¼Œ"),(0,e.Wm)("code",null,"@hover-bg-color"),(0,e.Uk)("ï¼Œ"),(0,e.Wm)("code",null,"@base-bg-color"),(0,e.Uk)("ï¼Œ"),(0,e.Wm)("code",null,"@border-color"),(0,e.Uk)(","),(0,e.Wm)("code",null,"@shadow-color")],-1),j={href:"https://iczer.gitee.io/vue-antd-admin-docs/develop/theme.html#%E4%B8%BB%E9%A2%98%E9%A2%9C%E8%89%B2",target:"_blank",rel:"noopener noreferrer"},y=(0,e.Uk)("èƒŒæ™¯è‰²"),x=(0,e.Wm)("td",null,[(0,e.Wm)("strong",null,"antd çš„è‰²ç³»")],-1),w=(0,e.Wm)("td",null,"å¦",-1),q=(0,e.Wm)("td",null,[(0,e.Wm)("code",null,"@blue-1"),(0,e.Uk)("ã€ "),(0,e.Wm)("code",null,"@blue-2"),(0,e.Uk)(),(0,e.Wm)("code",null,"..."),(0,e.Uk)(),(0,e.Wm)("code",null,"@blue-10 , @green-1"),(0,e.Uk)("ã€ "),(0,e.Wm)("code",null,"@green-2"),(0,e.Uk)(),(0,e.Wm)("code",null,"..."),(0,e.Uk)(),(0,e.Wm)("code",null,"@green-10...@gold-1"),(0,e.Uk)("ã€ "),(0,e.Wm)("code",null,"@gold-2"),(0,e.Uk)(),(0,e.Wm)("code",null,"..."),(0,e.Uk)(),(0,e.Wm)("code",null,"@gold-10")],-1),P={href:"https://iczer.gitee.io/vue-antd-admin-docs/develop/theme.html#antd-%E7%9A%84%E8%89%B2%E7%B3%BB",target:"_blank",rel:"noopener noreferrer"},C=(0,e.Uk)("antd-è‰²ç³»"),D=(0,e.Uk)("ï¼Œæ­¤å¤„æŸ¥çœ‹å®Œæ•´çš„"),z={href:"https://iczer.gitee.io/vue-antd-admin-docs/develop/theme.html#%E4%B8%BB%E9%A2%98%E9%A2%9C%E8%89%B2",target:"_blank",rel:"noopener noreferrer"},N=(0,e.Uk)("å®Œæ•´ä»‹ç»åŠé¢œè‰²æ•ˆæœæŸ¥çœ‹"),Q={render:function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.j4)(e.HY,null,[l,c,(0,e.Wm)("p",null,[t,(0,e.Wm)("a",o,[p,(0,e.Wm)(a)])]),r,(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[m,(0,e.Wm)("a",u,[i,(0,e.Wm)(a)])])]),d,(0,e.Wm)("p",null,[b,(0,e.Wm)("a",k,[h,(0,e.Wm)(a)]),g]),W,(0,e.Wm)("table",null,[v,(0,e.Wm)("tbody",null,[f,U,_,(0,e.Wm)("tr",null,[E,B,A,(0,e.Wm)("td",null,[(0,e.Wm)("a",j,[y,(0,e.Wm)(a)])])]),(0,e.Wm)("tr",null,[x,w,q,(0,e.Wm)("td",null,[(0,e.Wm)("a",P,[C,(0,e.Wm)(a)]),D])])])]),(0,e.Wm)("p",null,[(0,e.Wm)("a",z,[N,(0,e.Wm)(a)])])],64)}}}}]);