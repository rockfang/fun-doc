(self.webpackChunkfun_doc=self.webpackChunkfun_doc||[]).push([[8715],{2785:(s,n,e)=>{"use strict";e.r(n),e.d(n,{data:()=>a});const a={key:"v-fe8f4c58",path:"/%E6%90%AD%E5%BB%BAVuePress%E9%9D%99%E6%80%81%E6%96%87%E6%A1%A3%E7%AB%99.html",title:"搭建VuePress静态文档站",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"创建VuePress应用",slug:"创建vuepress应用",children:[{level:3,title:"环境",slug:"环境",children:[]},{level:3,title:"项目创建",slug:"项目创建",children:[]}]},{level:2,title:"项目打包",slug:"项目打包",children:[]},{level:2,title:"发布项目",slug:"发布项目",children:[{level:3,title:"创建github仓库",slug:"创建github仓库",children:[]},{level:3,title:"配置与发布",slug:"配置与发布",children:[]},{level:3,title:"阿里云CNAME域名解析到github",slug:"阿里云cname域名解析到github",children:[]}]},{level:2,title:"查看效果",slug:"查看效果",children:[]},{level:2,title:"参考链接",slug:"参考链接",children:[]}],filePathRelative:"搭建VuePress静态文档站.md",git:{updatedTime:1624513121e3,contributors:[{name:"caifang",email:"cooldish1245@163.com",commits:1}]}}},4783:(s,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>D});var a=e(6252);const l=(0,a.Wm)("h1",{id:"搭建vuepress静态文档站"},[(0,a.Wm)("a",{class:"header-anchor",href:"#搭建vuepress静态文档站"},"#"),(0,a.Uk)(" 搭建VuePress静态文档站")],-1),t=(0,a.Uk)("采用 "),c={href:"https://v2.vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"},i=(0,a.Uk)("VuePress2.x"),p=(0,a.Uk)(" 搭建静态文档站。采用官方主题。"),r=(0,a.Wm)("h2",{id:"创建vuepress应用"},[(0,a.Wm)("a",{class:"header-anchor",href:"#创建vuepress应用"},"#"),(0,a.Uk)(" 创建VuePress应用")],-1),u=(0,a.Wm)("h3",{id:"环境"},[(0,a.Wm)("a",{class:"header-anchor",href:"#环境"},"#"),(0,a.Uk)(" 环境")],-1),o={href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"},m=(0,a.Uk)("Node.js v12+"),d={href:"https://classic.yarnpkg.com/lang/en/",target:"_blank",rel:"noopener noreferrer"},g=(0,a.Uk)("Yarn v1 classic"),b=(0,a.Uk)(" （可选）"),h=(0,a.uE)('<h3 id="项目创建"><a class="header-anchor" href="#项目创建">#</a> 项目创建</h3><ul><li><strong>步骤1：</strong> 创建并进入目录</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> fun-doc\n<span class="token builtin class-name">cd</span> fun-doc\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>步骤2：</strong> 初始化</li></ul>',4),k=(0,a.Wm)("div",{class:"language-bash ext-sh"},[(0,a.Wm)("pre",{class:"language-bash"},[(0,a.Wm)("code",null,[(0,a.Wm)("span",{class:"token function"},"git"),(0,a.Uk)(" init\n"),(0,a.Wm)("span",{class:"token function"},"yarn"),(0,a.Uk)(" init\n")])])],-1),v=(0,a.Wm)("div",{class:"language-bash ext-sh"},[(0,a.Wm)("pre",{class:"language-bash"},[(0,a.Wm)("code",null,[(0,a.Wm)("span",{class:"token function"},"git"),(0,a.Uk)(" init\n"),(0,a.Wm)("span",{class:"token function"},"npm"),(0,a.Uk)(" init\n")])])],-1),f=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("strong",null,"步骤3:"),(0,a.Uk)(" 安装本地"),(0,a.Wm)("code",null,"vuepress")])],-1),W=(0,a.Wm)("div",{class:"language-bash ext-sh"},[(0,a.Wm)("pre",{class:"language-bash"},[(0,a.Wm)("code",null,[(0,a.Wm)("span",{class:"token function"},"yarn"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token function"},"add"),(0,a.Uk)(" -D vuepress@next\n")])])],-1),E=(0,a.Wm)("div",{class:"language-bash ext-sh"},[(0,a.Wm)("pre",{class:"language-bash"},[(0,a.Wm)("code",null,[(0,a.Wm)("span",{class:"token function"},"npm"),(0,a.Uk)(),(0,a.Wm)("span",{class:"token function"},"install"),(0,a.Uk)(" -D vuepress@next\n")])])],-1),U=(0,a.uE)('<ul><li><strong>步骤4：</strong> 加入脚本</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>\n  <span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>\n    <span class="token string">&quot;docs:dev&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span>,\n    <span class="token string">&quot;docs:build&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;vuepress build docs&quot;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><strong>步骤5：</strong> 添加忽略目录到 <code>.gitignore</code>文件</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>node_modules\n.temp\n.cache\ndocs/.vuepress/dist\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><strong>步骤6：</strong> 创建一篇文档</li></ul><details class="custom-container details"><summary>点击查看文档内容</summary><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> Hello VuePress</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></details><ul><li><strong>步骤7:</strong> 本地启动服务查看文档</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run docs:dev\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>说明</p><p>至此，项目开发阶段操作完成。</p></blockquote><h2 id="项目打包"><a class="header-anchor" href="#项目打包">#</a> 项目打包</h2>',10),w={class:"custom-container tip"},A=(0,a.Wm)("p",{class:"custom-container-title"},"提示",-1),x=(0,a.Uk)("打包可查阅 "),N={href:"https://v2.vuepress.vuejs.org/zh/guide/deployment.html#github-pages",target:"_blank",rel:"noopener noreferrer"},y=(0,a.Uk)("vuepress2部署"),_=(0,a.Uk)(" 文档。"),M=(0,a.Wm)("p",null,[(0,a.Uk)("根据情况选择是否配置 "),(0,a.Wm)("code",null,"base")],-1),P=(0,a.Wm)("p",null,"执行指令：",-1),R=(0,a.Wm)("div",{class:"language-bash ext-sh"},[(0,a.Wm)("pre",{class:"language-bash"},[(0,a.Wm)("code",null,[(0,a.Wm)("span",{class:"token function"},"yarn"),(0,a.Uk)(" docs:build \n")])])],-1),j=(0,a.Wm)("div",{class:"language-bash ext-sh"},[(0,a.Wm)("pre",{class:"language-bash"},[(0,a.Wm)("code",null,[(0,a.Wm)("span",{class:"token function"},"npm"),(0,a.Uk)(" run docs:build\n")])])],-1),q=(0,a.uE)('<p>默认打包后文件目录为： <code>./docs/.vuepress/dist</code></p><h2 id="发布项目"><a class="header-anchor" href="#发布项目">#</a> 发布项目</h2><h3 id="创建github仓库"><a class="header-anchor" href="#创建github仓库">#</a> 创建github仓库</h3><ul><li><strong>创建项目</strong></li></ul><p><img src="https://fun-typora-pics.oss-cn-beijing.aliyuncs.com/img/20210624130653.png" alt="image-20210624125422367"></p><ul><li><p>获取仓库地址</p><p>如：<code>git@github.com:rockfang/fun-doc.git</code></p></li></ul><h3 id="配置与发布"><a class="header-anchor" href="#配置与发布">#</a> 配置与发布</h3><p>编写脚本<code>deploy-gh.sh</code>如下：</p><details class="custom-container details"><summary>点击查看脚本</summary><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>\n\n<span class="token comment"># 确保脚本抛出遇到的错误</span>\n<span class="token builtin class-name">set</span> -e\n\n<span class="token comment"># 删除dist先</span>\n<span class="token function">rm</span> -rf ./docs/.vuepress/dist\n\n<span class="token comment"># 生成静态文件</span>\n<span class="token function">npm</span> run docs:build\n\n<span class="token comment"># 进入生成的文件夹</span>\n<span class="token builtin class-name">cd</span> ./docs/.vuepress/dist\n\n<span class="token comment"># 如果是发布到自定义域名</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&#39;doc.icaifun.com&#39;</span> <span class="token operator">&gt;</span> CNAME\n\n<span class="token function">git</span> init\n<span class="token function">git</span> <span class="token function">add</span> -A\n<span class="token function">git</span> commit -m <span class="token string">&#39;deploy&#39;</span>\n\n<span class="token comment"># 如果发布到 https://&lt;USERNAME&gt;.github.io</span>\n<span class="token comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git master</span>\n\n<span class="token comment"># 如果发布到 https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</span>\n<span class="token comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:gh-pages</span>\n\n<span class="token comment"># 把上面的 &lt;USERNAME&gt; 换成你自己的 Github 用户名，&lt;REPO&gt; 换成仓库名，比如我这里就是：</span>\n<span class="token function">git</span> push -f git@github.com:rockfang/fun-doc.git master:gh-pages\n\n<span class="token builtin class-name">cd</span> -\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div></details><p>执行脚本：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sh</span> deploy-sh.gh\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">tip</p><p>避免脚本识别问题，windows下脚本执行可选择在gitbash中执行脚本</p></div><p>脚本编译推送结束即完成了发布流程。</p><p>未指定域名直接访问<code>https://&lt;USERNAME&gt;.github.io</code>即可</p><p>如果指定了自定义域名。（脚本中<code>echo &#39;doc.icaifun.com&#39; &gt; CNAME</code>），需要先配置域名解析。</p><h3 id="阿里云cname域名解析到github"><a class="header-anchor" href="#阿里云cname域名解析到github">#</a> 阿里云CNAME域名解析到github</h3><p>把配置的域名解析到<code>&lt;USERNAME&gt;.github.io</code></p><p><img src="https://fun-typora-pics.oss-cn-beijing.aliyuncs.com/img/20210624130649.png" alt="image-20210624130422565"></p><h2 id="查看效果"><a class="header-anchor" href="#查看效果">#</a> 查看效果</h2><p>访问站点<code>api.icaifun.com</code></p><p><img src="https://fun-typora-pics.oss-cn-beijing.aliyuncs.com/img/20210624130643.png" alt="image-20210624130640588"></p><div class="custom-container danger"><p class="custom-container-title">说明</p><p>以上截图是我修改过的README.md入口文件</p><p>按上述步骤看到的实际效果，显示 <code># Hello VuePress</code> 页面，即发布访问成功。</p></div><h2 id="参考链接"><a class="header-anchor" href="#参考链接">#</a> 参考链接</h2>',23),C={href:"https://v2.vuepress.vuejs.org/zh/guide/getting-started.html",target:"_blank",rel:"noopener noreferrer"},V=(0,a.Uk)("https://v2.vuepress.vuejs.org/zh/guide/getting-started.html"),S={href:"https://www.jianshu.com/p/1f199ee49e4c",target:"_blank",rel:"noopener noreferrer"},z=(0,a.Uk)("https://www.jianshu.com/p/1f199ee49e4c"),D={render:function(s,n){const e=(0,a.up)("OutboundLink"),D=(0,a.up)("CodeGroupItem"),Y=(0,a.up)("CodeGroup");return(0,a.wg)(),(0,a.j4)(a.HY,null,[l,(0,a.Wm)("p",null,[t,(0,a.Wm)("a",c,[i,(0,a.Wm)(e)]),p]),r,u,(0,a.Wm)("p",null,[(0,a.Wm)("a",o,[m,(0,a.Wm)(e)])]),(0,a.Wm)("p",null,[(0,a.Wm)("a",d,[g,(0,a.Wm)(e)]),b]),h,(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{title:"YARN"},{default:(0,a.w5)((()=>[k])),_:1}),(0,a.Wm)(D,{title:"NPM",active:""},{default:(0,a.w5)((()=>[v])),_:1})])),_:1}),f,(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{title:"YARN"},{default:(0,a.w5)((()=>[W])),_:1}),(0,a.Wm)(D,{title:"NPM",active:""},{default:(0,a.w5)((()=>[E])),_:1})])),_:1}),U,(0,a.Wm)("div",w,[A,(0,a.Wm)("p",null,[x,(0,a.Wm)("a",N,[y,(0,a.Wm)(e)]),_]),M]),P,(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{title:"YARN"},{default:(0,a.w5)((()=>[R])),_:1}),(0,a.Wm)(D,{title:"NPM",active:""},{default:(0,a.w5)((()=>[j])),_:1})])),_:1}),q,(0,a.Wm)("p",null,[(0,a.Wm)("a",C,[V,(0,a.Wm)(e)])]),(0,a.Wm)("p",null,[(0,a.Wm)("a",S,[z,(0,a.Wm)(e)])])],64)}}}}]);